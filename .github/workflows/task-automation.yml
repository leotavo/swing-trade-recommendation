name: ðŸš€ Auto Move Issues in Kanban

on:
  issues:
    types: [opened, labeled, unlabeled]

jobs:
  move_issue:
    runs-on: ubuntu-latest
    steps:
      - name: ðŸ”„ Move Issue Based on Labels
        uses: actions/github-script@v6
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          script: |
            const columnMap = {
              "To Do": "ðŸ“ To Do",
              "In Progress": "ðŸ”„ In Progress",
              "Done": "âœ… Done",
              "Bug Fix": "ðŸ›  Bugs & Fixes",
              "API Development": "ðŸ“Š API Development",
              "Machine Learning": "ðŸ¤– Machine Learning",
              "Notifications": "ðŸ“© Notifications",
              "Deployment": "ðŸš€ Deployment & Hosting",
              "Automation": "ðŸ›  Automation"
            };

            const issue = context.payload.issue;
            const labels = issue.labels.map(label => label.name);
            const projectID = "YOUR_PROJECT_ID";  // Replace with your GitHub Project ID

            for (const label of labels) {
              if (columnMap[label]) {
                github.projects.createCard({
                  column_id: projectID,
                  content_id: issue.id,
                  content_type: "Issue"
                });
                break;
              }
            }
